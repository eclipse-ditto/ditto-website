<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="Version 3.0.0 of Eclipse Ditto, released on 28.09.2022">
<meta name="keywords" content="release_notes,  release notes, announcements, changelog">
<title>  Release notes 3.0.0 • Eclipse Ditto™ • a digital twin framework</title>

<link rel="stylesheet" href="css/syntax.css">
<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" crossorigin="anonymous">
<link rel="stylesheet" href="css/modern-business.css">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" crossorigin="anonymous">
<link rel="stylesheet" href="css/customstyles.css">
<link rel="stylesheet" href="css/boxshadowproperties.css">
<link rel="stylesheet" href="css/theme-ditto.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,700|Source+Code+Pro:300,600|Titillium+Web:400,600,700">

<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js" crossorigin="anonymous"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" crossorigin="anonymous"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/anchor-js/2.0.0/anchor.min.js" crossorigin="anonymous"></script>
<script src="js/toc.js"></script>
<script src="js/customscripts.js"></script>

<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Organization",
  "url": "https://www.eclipse.org/ditto/",
  "logo": "https://www.eclipse.org/ditto/images/ditto.svg"
}
</script>

<link rel="icon" type="image/png" href="images/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="images/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="images/favicon-96x96.png" sizes="96x96">

<link rel="alternate" type="application/rss+xml" title="Eclipse Ditto Blog" href="https://www.eclipse.org/ditto/feed.xml">

<!-- Eclipse Foundation cookie consent: -->
<link rel="stylesheet" type="text/css" href="//www.eclipse.org/eclipse.org-common/themes/solstice/public/stylesheets/vendor/cookieconsent/cookieconsent.min.css" />
<script src="//www.eclipse.org/eclipse.org-common/themes/solstice/public/javascript/vendor/cookieconsent/default.min.js"></script>

    <script>
        $(document).ready(function() {
            $("#tg-sb-link").click(function() {
                $("#tg-sb-sidebar").toggle();
                $("#tg-sb-content").toggleClass('col-md-9');
                $("#tg-sb-content").toggleClass('col-md-12');
                $("#tg-sb-icon").toggleClass('fa-toggle-on');
                $("#tg-sb-icon").toggleClass('fa-toggle-off');
            });
        });
    </script>
</head>


<script>
    (function(w,d,s,l,i){
        w[l]=w[l]||[];
        w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});
        var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),
            dl=l!='dataLayer'?'&l='+l:'';
        j.async=true;
        j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;
        f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-5WLCZXC');
</script>



<body>
<!-- Navigation -->
<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container topnavlinks">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-ditto-home" href="index.html">&nbsp;<img src="images/ditto_allwhite_symbolonly.svg" class="ditto-navbar-symbol" alt="Home"> <img src="images/ditto_allwhite_textonly.svg" class="ditto-navbar-symbol-text" alt="Eclipse Ditto™"></a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <!-- toggle sidebar button -->
                <!--<li><a id="tg-sb-link" href="#"><i id="tg-sb-icon" class="fa fa-toggle-on"></i> Nav</a></li>-->
                <!-- entries without drop-downs appear here -->




                
                
                
                <li><a href="blog.html">Blog</a></li>
                
                
                
                <li><a href="intro-overview.html">Documentation</a></li>
                
                
                
                <li><a href="http-api-doc.html">HTTP API</a></li>
                
                
                
                <li><a href="sandbox.html">Sandbox</a></li>
                
                
                
                  
                  <li><a href="https://github.com/eclipse/ditto" target="_blank">
                    <img src="images/GitHub-Mark-Light-32px.png" alt="Sources at GitHub">
                  </a></li>
                  
                
                
                
                  
                  <li><a href="https://github.com/eclipse/ditto-clients" target="_blank">
                    <img src="images/GitHub-Mark-Light-32px.png" alt="SDK sources at GitHub">SDKs
                  </a></li>
                  
                
                
                
                  
                  <li><a href="https://github.com/eclipse/ditto-examples" target="_blank">
                    <img src="images/GitHub-Mark-Light-32px.png" alt="Example sources at GitHub">examples
                  </a></li>
                  
                
                
                
                <!-- entries with drop-downs appear here -->
                <!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->
                
                
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Links<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        
                        <li><a href="https://projects.eclipse.org/projects/iot.ditto" target="_blank">Eclipse Ditto Project</a></li>
                        
                        
                        
                        <li><a href="https://www.eclipse.org/forums/index.php/f/364/" target="_blank">Forum</a></li>
                        
                        
                        
                        <li><a href="https://ci.eclipse.org/ditto/" target="_blank">Jenkins</a></li>
                        
                        
                        
                        <li><a href="https://dev.eclipse.org/mhonarc/lists/ditto-dev/" target="_blank">Mailing list archives</a></li>
                        
                        
                        
                        <li><a href="https://gitter.im/eclipse/ditto" target="_blank">Gitter.im chat</a></li>
                        
                        
                    </ul>
                </li>
                
                
                
                <!--comment out this block if you want to hide search-->
                <li>
                    <!--start search-->
                    <div id="search-demo-container">
                        <input type="text" id="search-input" placeholder="search...">
                        <ul id="results-container"></ul>
                    </div>
                    <script src="//cdnjs.cloudflare.com/ajax/libs/simple-jekyll-search/0.0.9/jekyll-search.js" type="text/javascript"></script>
                    <script type="text/javascript">
                            SimpleJekyllSearch.init({
                                searchInput: document.getElementById('search-input'),
                                resultsContainer: document.getElementById('results-container'),
                                dataSource: 'search.json',
                                searchResultTemplate: '<li><a href="{url}" title="Release notes 3.0.0">{title}</a></li>',
                                noResultsText: 'No results found.',
                                limit: 10,
                                fuzzy: true,
                    })
                    </script>
                    <!--end search-->
                </li>
            </ul>
        </div>
    </div>
    <!-- /.container -->
</nav>

<!-- Page Content -->
<div class="container">
  <div id="main">
    <!-- Content Row -->
    <div class="row">
        
        
            <!-- Sidebar Column -->
            <div class="col-md-3" id="tg-sb-sidebar">
                

<ul id="mysidebar" class="nav">
  <li class="sidebarTitle">
    <label for="docVersion">Eclipse Ditto™ version:</label>
    <div class="select-wrapper">
      <select id="docVersion" name="docVersion">
        
        <option value="">development</option>
        
        <option value="3.0">3.0</option>
        
        <option value="2.4">2.4</option>
        
        <option value="2.3">2.3</option>
        
        <option value="2.2">2.2</option>
        
        <option value="2.1">2.1</option>
        
        <option value="2.0">2.0</option>
        
      </select>
    </div>
    <div id="dev-warning">
      <div markdown="span" class="alert alert-warning" role="alert" style="font-size:0.6em"><i class="fa fa-warning"></i> <b>Important:</b> This documentation reflects the latest 'development'. You might want to choose a released version.</div>
    </div>
  </li>
  
  
  
    
        <li class="subfolders">
          <a href="#"><span></span>Introduction</a>
          <ul>
              
              
              
              <li><a href="intro-overview.html">Overview</a></li>
              
              
              
              
              
              
              <li><a href="intro-digitaltwins.html">Digital twins</a></li>
              
              
              
              
              
              
              <li><a href="intro-hello-world.html">Hello world</a></li>
              
              
              
              
          </ul>
        </li>
    
  
  
  
    
        <li class="subfolders">
          <a href="#"><span></span>Release Notes</a>
          <ul>
              
              
              
              <li class="active"><a href="release_notes_300.html">3.0.0</a></li>
              
              
              
              
              
              
              <li><a href="release_notes_242.html">2.4.2</a></li>
              
              
              
              
              
              
              <li><a href="release_notes_241.html">2.4.1</a></li>
              
              
              
              
              
              
              <li><a href="release_notes_240.html">2.4.0</a></li>
              
              
              
              <li class="subfolders">
                  <a href="#"><span></span>Archive</a>
                  <ul>
                      
                      
                      
                      <li><a href="release_notes_232.html">2.3.2</a></li>
                      
                      
                      
                      
                      
                      <li><a href="release_notes_231.html">2.3.1</a></li>
                      
                      
                      
                      
                      
                      <li><a href="release_notes_230.html">2.3.0</a></li>
                      
                      
                      
                      
                      
                      <li><a href="release_notes_222.html">2.2.2</a></li>
                      
                      
                      
                      
                      
                      <li><a href="release_notes_221.html">2.2.1</a></li>
                      
                      
                      
                      
                      
                      <li><a href="release_notes_220.html">2.2.0</a></li>
                      
                      
                      
                      
                      
                      <li><a href="release_notes_213.html">2.1.3</a></li>
                      
                      
                      
                      
                      
                      <li><a href="release_notes_212.html">2.1.2</a></li>
                      
                      
                      
                      
                      
                      <li><a href="release_notes_211.html">2.1.1</a></li>
                      
                      
                      
                      
                      
                      <li><a href="release_notes_210.html">2.1.0</a></li>
                      
                      
                      
                      
                      
                      <li><a href="release_notes_201.html">2.0.1</a></li>
                      
                      
                      
                      
                      
                      <li><a href="release_notes_200.html">2.0.0</a></li>
                      
                      
                      
                      
                      
                      <li><a href="release_notes_151.html">1.5.1</a></li>
                      
                      
                      
                      
                      
                      <li><a href="release_notes_150.html">1.5.0</a></li>
                      
                      
                      
                      
                      
                      <li><a href="release_notes_140.html">1.4.0</a></li>
                      
                      
                      
                      
                      
                      <li><a href="release_notes_130.html">1.3.0</a></li>
                      
                      
                      
                      
                      
                      <li><a href="release_notes_121.html">1.2.1</a></li>
                      
                      
                      
                      
                      
                      <li><a href="release_notes_120.html">1.2.0</a></li>
                      
                      
                      
                      
                      
                      <li><a href="release_notes_115.html">1.1.5</a></li>
                      
                      
                      
                      
                      
                      <li><a href="release_notes_113.html">1.1.3</a></li>
                      
                      
                      
                      
                      
                      <li><a href="release_notes_112.html">1.1.2</a></li>
                      
                      
                      
                      
                      
                      <li><a href="release_notes_111.html">1.1.1</a></li>
                      
                      
                      
                      
                      
                      <li><a href="release_notes_110.html">1.1.0</a></li>
                      
                      
                      
                      
                      
                      <li><a href="release_notes_100.html">1.0.0</a></li>
                      
                      
                      
                      
                      
                      <li><a href="release_notes_090.html">0.9.0</a></li>
                      
                      
                      
                      
                      
                      <li><a href="release_notes_080.html">0.8.0</a></li>
                      
                      
                      
                      
                      
                      <li><a href="release_notes_100-M2.html">1.0.0-M2</a></li>
                      
                      
                      
                      
                      
                      <li><a href="release_notes_100-M1a.html">1.0.0-M1a</a></li>
                      
                      
                      
                      
                      
                      <li><a href="release_notes_090-M2.html">0.9.0-M2</a></li>
                      
                      
                      
                      
                      
                      <li><a href="release_notes_090-M1.html">0.9.0-M1</a></li>
                      
                      
                      
                      
                      
                      <li><a href="release_notes_080-M3.html">0.8.0-M3</a></li>
                      
                      
                      
                      
                      
                      <li><a href="release_notes_080-M2.html">0.8.0-M2</a></li>
                      
                      
                      
                      
                      
                      <li><a href="release_notes_080-M1.html">0.8.0-M1</a></li>
                      
                      
                      
                      
                      
                      <li><a href="release_notes_030-M2.html">0.3.0-M2</a></li>
                      
                      
                      
                      
                      
                      <li><a href="release_notes_030-M1.html">0.3.0-M1</a></li>
                      
                      
                      
                      
                      
                      <li><a href="release_notes_020-M1.html">0.2.0-M1</a></li>
                      
                      
                      
                      
                      
                      <li><a href="release_notes_010-M3.html">0.1.0-M3</a></li>
                      
                      
                      
                      
                      
                      <li><a href="release_notes_010-M1.html">0.1.0-M1</a></li>
                      
                      
                      
                  </ul>
              </li>
              
              
              
              
          </ul>
        </li>
    
  
  
  
    
        <li class="subfolders">
          <a href="#"><span></span>Installation</a>
          <ul>
              
              
              
              <li><a href="installation-building.html">Building Ditto</a></li>
              
              
              
              
              
              
              <li><a href="installation-running.html">Running Ditto</a></li>
              
              
              
              
              
              
              <li><a href="installation-operating.html">Operating Ditto</a></li>
              
              
              
              
              
              
              <li><a href="installation-extending.html">Extending Ditto</a></li>
              
              
              
              
          </ul>
        </li>
    
  
  
  
    
        <li class="subfolders">
          <a href="#"><span></span>Basic concepts</a>
          <ul>
              
              
              
              <li><a href="basic-overview.html">Overview</a></li>
              
              
              
              <li class="subfolders">
                  <a href="#"><span></span>Model entities</a>
                  <ul>
                      
                      
                      
                      <li><a href="basic-thing.html">Thing</a></li>
                      
                      
                      
                      
                      
                      <li><a href="basic-feature.html">Feature</a></li>
                      
                      
                      
                      
                      
                      <li><a href="basic-policy.html">Policy</a></li>
                      
                      
                      
                      
                      
                      <li><a href="basic-namespaces-and-names.html">Namespaces and Names</a></li>
                      
                      
                      
                      
                      
                      <li><a href="basic-metadata.html">Thing Metadata</a></li>
                      
                      
                      
                      
                      
                      <li><a href="basic-errors.html">Errors</a></li>
                      
                      
                      
                  </ul>
              </li>
              
              
              
              
              
              
              <li><a href="basic-auth.html">Authentication and Authorization</a></li>
              
              
              
              
              
              
              <li><a href="basic-messages.html">Messages</a></li>
              
              
              
              
              
              
              <li><a href="basic-signals.html">Signals</a></li>
              
              
              
              <li class="subfolders">
                  <a href="#"><span></span>Signal types</a>
                  <ul>
                      
                      
                      
                      <li><a href="basic-signals-command.html">Command</a></li>
                      
                      
                      
                      
                      
                      <li><a href="basic-signals-commandresponse.html">Command response</a></li>
                      
                      
                      
                      
                      
                      <li><a href="basic-signals-errorresponse.html">Error response</a></li>
                      
                      
                      
                      
                      
                      <li><a href="basic-signals-event.html">Event</a></li>
                      
                      
                      
                      
                      
                      <li><a href="basic-signals-announcement.html">Announcement</a></li>
                      
                      
                      
                      
                      
                      <li><a href="basic-enrichment.html">Signal enrichment</a></li>
                      
                      
                      
                  </ul>
              </li>
              
              
              
              
              
              
              <li><a href="basic-apis.html">APIs</a></li>
              
              
              
              
              
              
              <li><a href="basic-connections.html">Connections</a></li>
              
              
              
              
              
              
              <li><a href="basic-placeholders.html">Placeholders</a></li>
              
              
              
              
              
              
              <li><a href="basic-changenotifications.html">Change notifications</a></li>
              
              
              
              
              
              
              <li><a href="basic-rql.html">RQL expressions</a></li>
              
              
              
              
              
              
              <li><a href="basic-conditional-requests.html">Conditional requests</a></li>
              
              
              
              
              
              
              <li><a href="basic-search.html">Search</a></li>
              
              
              
              
              
              
              <li><a href="basic-acknowledgements.html">Acknowledgements / QoS</a></li>
              
              
              
              <li class="subfolders">
                  <a href="#"><span></span>WoT (Web of Things)</a>
                  <ul>
                      
                      
                      
                      <li><a href="basic-wot-integration.html">WoT integration</a></li>
                      
                      
                      
                      
                      
                      <li><a href="basic-wot-integration-example.html">WoT integration example</a></li>
                      
                      
                      
                  </ul>
              </li>
              
              
              
              
          </ul>
        </li>
    
  
  
  
    
        <li class="subfolders">
          <a href="#"><span></span>Advanced concepts</a>
          <ul>
              
              
              
              <li><a href="advanced-data-by-pass.html">Data By-Pass</a></li>
              
              
              
              
          </ul>
        </li>
    
  
  
  
    
        <li class="subfolders">
          <a href="#"><span></span>Architecture</a>
          <ul>
              
              
              
              <li><a href="architecture-overview.html">Overview</a></li>
              
              
              
              <li class="subfolders">
                  <a href="#"><span></span>Services</a>
                  <ul>
                      
                      
                      
                      <li><a href="architecture-services-policies.html">Policies</a></li>
                      
                      
                      
                      
                      
                      <li><a href="architecture-services-things.html">Things</a></li>
                      
                      
                      
                      
                      
                      <li><a href="architecture-services-things-search.html">Things-Search</a></li>
                      
                      
                      
                      
                      
                      <li><a href="architecture-services-connectivity.html">Connectivity</a></li>
                      
                      
                      
                      
                      
                      <li><a href="architecture-services-gateway.html">Gateway</a></li>
                      
                      
                      
                  </ul>
              </li>
              
              
              
              
          </ul>
        </li>
    
  
  
  
    
        <li class="subfolders">
          <a href="#"><span></span>HTTP API</a>
          <ul>
              
              
              
              <li><a href="httpapi-overview.html">Overview</a></li>
              
              
              
              
              
              
              <li><a href="httpapi-concepts.html">Concepts</a></li>
              
              
              
              
              
              
              <li><a href="httpapi-search.html">Search</a></li>
              
              
              
              
              
              
              <li><a href="httpapi-messages.html">Messages</a></li>
              
              
              
              
              
              
              <li><a href="httpapi-protocol-bindings-websocket.html">WebSocket protocol binding</a></li>
              
              
              
              
              
              
              <li><a href="httpapi-protocol-bindings-cloudevents.html">Cloud Events HTTP protocol binding</a></li>
              
              
              
              
              
              
              <li><a href="httpapi-sse.html">Server sent events</a></li>
              
              
              
              
          </ul>
        </li>
    
  
  
  
    
        <li class="subfolders">
          <a href="#"><span></span>Connectivity API</a>
          <ul>
              
              
              
              <li><a href="connectivity-overview.html">Overview</a></li>
              
              
              
              
              
              
              <li><a href="connectivity-manage-connections.html">Manage connections</a></li>
              
              
              
              
              
              
              <li><a href="connectivity-protocol-bindings-amqp091.html">AMQP 0.9.1 protocol binding</a></li>
              
              
              
              
              
              
              <li><a href="connectivity-protocol-bindings-amqp10.html">AMQP 1.0 protocol binding</a></li>
              
              
              
              
              
              
              <li><a href="connectivity-protocol-bindings-mqtt.html">MQTT 3.1.1 protocol binding</a></li>
              
              
              
              
              
              
              <li><a href="connectivity-protocol-bindings-mqtt5.html">MQTT 5 protocol binding</a></li>
              
              
              
              
              
              
              <li><a href="connectivity-protocol-bindings-http.html">HTTP 1.1 protocol binding</a></li>
              
              
              
              
              
              
              <li><a href="connectivity-protocol-bindings-kafka2.html">Kafka 2.x protocol binding</a></li>
              
              
              
              
              
              
              <li><a href="connectivity-mapping.html">Payload mapping</a></li>
              
              
              
              
              
              
              <li><a href="connectivity-header-mapping.html">Header mapping</a></li>
              
              
              
              
              
              
              <li><a href="connectivity-tls-certificates.html">TLS certificates</a></li>
              
              
              
              
              
              
              <li><a href="connectivity-ssh-tunneling.html">SSH tunneling</a></li>
              
              
              
              
              
              
              <li><a href="connectivity-hmac-signing.html">HMAC signing</a></li>
              
              
              
              
          </ul>
        </li>
    
  
  
  
    
        <li class="subfolders">
          <a href="#"><span></span>Client SDK</a>
          <ul>
              
              
              
              <li><a href="client-sdk-overview.html">Overview</a></li>
              
              
              
              
              
              
              <li><a href="client-sdk-java.html">Java</a></li>
              
              
              
              
              
              
              <li><a href="client-sdk-javascript.html">JavaScript</a></li>
              
              
              
              
          </ul>
        </li>
    
  
  
  
    
        <li class="subfolders">
          <a href="#"><span></span>Ditto Protocol</a>
          <ul>
              
              
              
              <li><a href="protocol-overview.html">Overview</a></li>
              
              
              
              
              
              
              <li><a href="protocol-twinlive.html">Twin/live channel</a></li>
              
              
              
              
              
              
              <li><a href="protocol-specification.html">Specification</a></li>
              
              
              
              
              
              
              <li><a href="protocol-specification-topic.html">Protocol topic</a></li>
              
              
              
              
              
              
              <li><a href="protocol-specification-errors.html">Errors</a></li>
              
              
              
              
              
              
              <li><a href="protocol-specification-things.html">Things group</a></li>
              
              
              
              <li class="subfolders">
                  <a href="#"><span></span>→ commands/events</a>
                  <ul>
                      
                      
                      
                      <li><a href="protocol-specification-things-create-or-modify.html">Create/Modify</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-specification-things-merge.html">Merge</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-specification-things-retrieve.html">Retrieve</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-specification-things-delete.html">Delete</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-specification-acks.html">Acknowledgements</a></li>
                      
                      
                      
                  </ul>
              </li>
              
              
              
              <li class="subfolders">
                  <a href="#"><span></span>→ search/messages</a>
                  <ul>
                      
                      
                      
                      <li><a href="protocol-specification-things-search.html">Search</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-specification-things-messages.html">Messages</a></li>
                      
                      
                      
                  </ul>
              </li>
              
              
              
              
              
              
              <li><a href="protocol-specification-policies.html">Policies group</a></li>
              
              
              
              <li class="subfolders">
                  <a href="#"><span></span>→ commands/announcements</a>
                  <ul>
                      
                      
                      
                      <li><a href="protocol-specification-policies-create-or-modify.html">Create/Modify</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-specification-policies-retrieve.html">Retrieve</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-specification-policies-delete.html">Delete</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-specification-policies-announcement.html">Announcement</a></li>
                      
                      
                      
                  </ul>
              </li>
              
              
              
              
              
              
              <li><a href="protocol-specification-connections.html">Connections group</a></li>
              
              
              
              <li class="subfolders">
                  <a href="#"><span></span>→ announcements</a>
                  <ul>
                      
                      
                      
                      <li><a href="protocol-specification-connections-announcement.html">Announcement</a></li>
                      
                      
                      
                  </ul>
              </li>
              
              
              
              
              
              
              <li><a href="protocol-bindings.html">Bindings</a></li>
              
              
              
              
              
              
              <li><a href="protocol-examples.html">Examples</a></li>
              
              
              
              <li class="subfolders">
                  <a href="#"><span></span>→ Things examples</a>
                  <ul>
                      
                      
                      
                      <li><a href="protocol-examples-creatething.html">Create a Thing</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-deletething.html">Delete a Thing</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-modifything.html">Modify a Thing</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-retrievething.html">Retrieve a Thing</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-retrievethings.html">Retrieve multiple Things</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-modifypolicyid.html">Modify the Policy ID of a Thing</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-createattributes.html">Create Attributes</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-deleteattributes.html">Delete Attributes</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-modifyattributes.html">Modify Attributes</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-retrieveattributes.html">Retrieve Attributes</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-createattribute.html">Create a single Attribute</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-deleteattribute.html">Delete a single Attribute</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-modifyattribute.html">Modify a single Attribute</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-retrieveattribute.html">Retrieve a single Attribute</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-createthingdefinition.html">Create a Definition</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-deletethingdefinition.html">Delete a Definition</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-modifythingdefinition.html">Modify a Definition</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-retrievethingdefinition.html">Retrieve a Definition</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-createfeatures.html">Create Features</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-deletefeatures.html">Delete Features</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-modifyfeatures.html">Modify Features</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-retrievefeatures.html">Retrieve Features</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-createfeature.html">Create a single Feature</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-deletefeature.html">Delete a single Feature</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-modifyfeature.html">Modify a single Feature</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-retrievefeature.html">Retrieve a single Feature</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-createdefinition.html">Create Feature Definition</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-deletedefinition.html">Delete Feature Definition</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-modifydefinition.html">Modify Feature Definition</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-retrievedefinition.html">Retrieve Feature Definition</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-createproperties.html">Create Feature Properties</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-deleteproperties.html">Delete Feature Properties</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-modifyproperties.html">Modify Feature Properties</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-retrieveproperties.html">Retrieve Feature Properties</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-createproperty.html">Create a single Property</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-deleteproperty.html">Delete a single Property</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-modifyproperty.html">Modify a single Property</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-retrieveproperty.html">Retrieve a single Property</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-createdesiredproperties.html">Create desired Feature Properties</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-deletedesiredproperties.html">Delete desired Feature Properties</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-modifydesiredproperties.html">Modify desired Feature Properties</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-retrievedesiredproperties.html">Retrieve desired Feature Properties</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-createdesiredproperty.html">Create a single desired Property</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-deletedesiredproperty.html">Delete a single desired Property</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-modifydesiredproperty.html">Modify a single desired Property</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-retrievedesiredproperty.html">Retrieve a single desired Property</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-errorresponses.html">Error responses</a></li>
                      
                      
                      
                  </ul>
              </li>
              
              
              
              <li class="subfolders">
                  <a href="#"><span></span>→ Things merge examples</a>
                  <ul>
                      
                      
                      
                      <li><a href="protocol-examples-mergething.html">Merge a Thing</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-mergepolicyid.html">Merge the Policy ID of a Thing</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-mergeattributes.html">Merge Attributes</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-mergeattribute.html">Merge a single Attribute</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-mergethingdefinition.html">Merge a Definition</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-mergefeatures.html">Merge Features</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-mergefeature.html">Merge a single Feature</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-mergefeaturedefinition.html">Merge Feature Definition</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-mergeproperties.html">Merge Feature Properties</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-mergeproperty.html">Merge a single Property</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-mergedesiredproperties.html">Merge desired Feature Properties</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-mergedesiredproperty.html">Merge a single desired Property</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-errorresponses.html">Error responses</a></li>
                      
                      
                      
                  </ul>
              </li>
              
              
              
              <li class="subfolders">
                  <a href="#"><span></span>→ Policies examples</a>
                  <ul>
                      
                      
                      
                      <li><a href="protocol-examples-policies-createpolicy.html">Create a Policy</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-policies-deletepolicy.html">Delete a Policy</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-policies-modifypolicy.html">Modify a Policy</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-policies-retrievepolicy.html">Retrieve a Policy</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-policies-modifypolicyentries.html">Modify entries</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-policies-retrievepolicyentries.html">Retrieve entries</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-policies-createpolicyentry.html">Create a single entry</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-policies-deletepolicyentry.html">Delete a single entry</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-policies-modifypolicyentry.html">Modify a single entry</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-policies-retrievepolicyentry.html">Retrieve a single entry</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-policies-modifysubjects.html">Modify subjects</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-policies-retrievesubjects.html">Retrieve subjects</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-policies-createsubject.html">Create a single subject</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-policies-deletesubject.html">Delete a single subject</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-policies-modifysubject.html">Modify a single subject</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-policies-retrievesubject.html">Retrieve a single subject</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-policies-modifyresources.html">Modify resources</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-policies-retrieveresources.html">Retrieve resources</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-policies-createresource.html">Create a single resource</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-policies-deleteresource.html">Delete a single resource</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-policies-modifyresource.html">Modify a single resource</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-policies-retrieveresource.html">Retrieve a single resource</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-policies-errorresponses.html">Error responses</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-policies-announcement-subjectDeletion.html">Announcement for subject deletion</a></li>
                      
                      
                      
                  </ul>
              </li>
              
              
              
              <li class="subfolders">
                  <a href="#"><span></span>→ Connections examples</a>
                  <ul>
                      
                      
                      
                      <li><a href="protocol-examples-connections-announcement-opened.html">Announcement for connection opened</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-connections-announcement-closed.html">Announcement for connection gracefully closed</a></li>
                      
                      
                      
                  </ul>
              </li>
              
              
              
              
              
              
              <li><a href="protocol-examples-search.html">→ Search examples</a></li>
              
              
              
              
          </ul>
        </li>
    
  
  
  
    
    <li><a href="user-interface.html">User Interface</a></li>
    
  
  
  
    
    <li><a href="sandbox.html">Sandbox</a></li>
    
  
  
  
    
    <li><a href="presentations.html">Presentations</a></li>
    
  
  
  
    
    <li><a href="glossary.html">Glossary</a></li>
    
  
  
  
    
    <li><a href="feedback.html">Feedback</a></li>
    
  
  
  
    
         <p class="external">
             <a href="#" id="collapseAll">Collapse All</a> | <a href="#" id="expandAll">Expand All</a>
         </p>
    
</ul>

<!-- this highlights the active parent class in the sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("li.active").parents('li').toggleClass("active");
</script>

            </div>
            
        

        <!-- Content Column -->
        <div class="col-md-9" id="tg-sb-content">
            <div class="post-header">
   <h1 class="post-title-main">Release notes 3.0.0</h1>
</div>



<div class="post-content">

   
    <div class="summary">Version 3.0.0 of Eclipse Ditto, released on 28.09.2022</div>
   

    
    
<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {
  // Handler for .ready() called.

$('#toc').toc({ minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers: 'h2,h3,h4' });

/* this offset helps account for the space taken up by the floating toolbar. */
$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top

  $(window).scrollTop(scroll_target - 10);
  return false
})
  
});
</script>

<div id="toc"></div>

    


    
    

    <a target="_blank" href="https://github.com/eclipse/ditto/edit/master/documentation/src/main/resources/pages/ditto/release_notes_300.md" class="btn btn-default githubEditButton" role="button"><i class="fa fa-github fa-lg"></i> Edit this page</a>

    
    


    

  <p>This is Eclipse Ditto version 3.0.0.</p>

<p>This release is completely <a href="https://www.eclipse.org/projects/handbook/#ip">IP (intellectual property) checked by the Eclipse Foundation</a>
meaning that project code as well as all used dependencies were “[…] reviewed to ensure that the copyrights
expressed are correct, licensing is valid and compatible, and that other issues have been uncovered and properly
investigated.”</p>

<h2 id="changelog">Changelog</h2>

<p>Eclipse Ditto 3.0.0 focuses on the following areas:</p>

<ul>
  <li>Ability to <strong>search in JSON arrays</strong> and thus also for feature definitions</li>
  <li>Several <strong>improvements around “metadata”</strong> in Ditto managed things</li>
  <li>Creation of <strong>new HTTP API for CRUD</strong> management of Ditto managed <strong>connections</strong></li>
  <li>Addition of <strong>Ditto explorer UI</strong> for managing things, policies and connections</li>
  <li>Support for EC signed JsonWebKeys (JWKs)</li>
  <li>W3C WoT (Web of Things) adjustments and improvements for latest 1.1 “Candidate Recommendation” from W3C</li>
  <li>Make “default namespace” for creating new entities configurable</li>
  <li>Provide custom namespace when creating things via HTTP POST</li>
  <li>Make it possible to provide multiple OIDC issuer urls for a single configured openid-connect “prefix”</li>
  <li>Addition of a “CloudEvents” mapper for mapping CE payloads in Ditto connections</li>
</ul>

<p>The following non-functional enhancements are also included:</p>

<ul>
  <li>New Ditto <strong>“thing” search index</strong> massively improving write performance; reducing the search consistency lag
and improving search query performance</li>
  <li><strong>Removal of former “ditto-concierge” service</strong>, moving its functionality to other Ditto services; reducing overall
resource consumption and improving latency+throughput for API calls</li>
  <li>Creation of common way to extend Ditto via DittoExtensionPoints</li>
  <li>Rewrite of Ditto managed <strong>MQTT connections to use reactive-streams based client</strong>, supporting consumption applying
backpressure</li>
  <li>Further improvements on rolling updates and other failover scenarios</li>
  <li>Consolidate and simplify DevOps command responses</li>
</ul>

<p>We want to especially highlight the following bugfixes also included:</p>

<ul>
  <li><strong>Passwords</strong> stored in the URI of <strong>connections</strong> to <strong>no longer need to be double encoded</strong></li>
  <li>Using the <code class="highlighter-rouge">Normalized</code> connection payload mapper together with enriched <code class="highlighter-rouge">extra</code> fields lead to wrongly merged things</li>
  <li>Adding custom Java based <code class="highlighter-rouge">MessageMappers</code> to Ditto via classpath was no longer possible</li>
</ul>

<h3 id="changes">Changes</h3>

<h4 id="new-ditto-thing-search-index"><a href="https://github.com/eclipse/ditto/issues/1374">New Ditto “thing” search index</a></h4>

<p>Change reasoning documented in 
<a href="https://github.com/eclipse/ditto/blob/master/documentation/src/main/resources/architecture/DADR-0008-wildcard-search-index.md">DADR-0008</a>.</p>

<p>The Ditto 2.x implementation of the search index uses the <a href="https://www.mongodb.com/blog/post/building-with-patterns-the-attribute-pattern">attribute pattern</a> 
for indexing data in MongoDB. 
This pattern allows to define indices on fields, for which the keys are arbitrary and not known in advance 
(like feature properties or attributes).<br />
However, this approach has some downsides:<br />
Authorization subjects allowed to read a property or an attribute are copied multiple times and the whole thing 
structure is duplicated to allow sorting by arbitrary properties or attributes. 
As a result, the size of an index document is a multiple of the original thing structure, which leads to very slow updates and queries.</p>

<p>In order to improve this situation, we decided to leverage the <a href="https://www.mongodb.com/docs/manual/core/index-wildcard/">wildcard index</a> 
feature introduced with MongoDB 4.2, which allows to build an index and query against fields, whose names are not known in advance.<br />
At the same time we reduce the duplication of authorization subjects in the search index document to further reduce its size.</p>

<p>Initial benchmarks show that the overall size of the index documents can be reduced to 10% and at the same time the 
query and update performance is improved and more stable than with the current approach.</p>

<div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> <b>Note:</b> Be aware of the
  <a href="#migration-building-up-new-search-index">migration note</a> before updating to Ditto 3.0.</div>

<h4 id="removal-of-former-ditto-concierge-service"><a href="https://github.com/eclipse/ditto/issues/1339">Removal of former “ditto-concierge” service</a></h4>

<p>Change reasoning documented in
<a href="https://github.com/eclipse/ditto/blob/master/documentation/src/main/resources/architecture/DADR-0007-concierge-removal.md">DADR-0007</a>.</p>

<p>In order to reduce the complexity of message flows and the required networking “hops” in a Ditto cluster for a command
to be authorized and applied, it was decided to eliminate the former “ditto-concierge” service.</p>

<p>Benefits of this simplified architecture:</p>

<ul>
  <li>less overall resource consumption (CPU and memory): 1 container less to operate</li>
  <li>less “hops” between Ditto services in the cluster
    <ul>
      <li>saving at least one hop per processed API call - one additional one when a response is wanted</li>
      <li>beneficial for resource consumption as less JSON deserialization is required between the Ditto services</li>
      <li>lower overall latency and higher overall throughput possible</li>
    </ul>
  </li>
  <li>improved stability during rolling updates / rolling restarts of Ditto
    <ul>
      <li>concierge has always been an additional error source when its shard regions restarted and e.g. Ditto’s edge services could for a short period not forward commands to authorize</li>
    </ul>
  </li>
</ul>

<p>Ditto 3.0 requires less resources and provide lower latency + higher throughput for processing API interactions.</p>

<div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> <b>Note:</b> Be aware of the 
  <a href="#migration-removal-of-concierge-service-from-deployment-descriptors">migration note</a> before updating
  to Ditto 3.0.</div>

<h4 id="clear-declaration-and-configuration-of-ditto-extension-points">Clear declaration and configuration of Ditto “Extension points”</h4>

<p>As part of the <a href="https://github.com/eclipse/ditto/issues/1339">“ditto-concierge” service removal</a> a new and common 
mechanism for <a href="installation-extending.html">extending Ditto</a> was introduced.<br />
Examples of such extensions are:</p>
<ul>
  <li>adding additional, custom HTTP APIs to Ditto</li>
  <li>creating a custom <code class="highlighter-rouge">PreEnforcer</code> which e.g. additionally authorizes processed commands in Ditto before they are 
authorized via their policy</li>
</ul>

<p>Check out the <a href="installation-extending.html">documentation on extending Ditto</a> and the existing extension points 
(interfaces extending <code class="highlighter-rouge">DittoExtensionPoint</code>) to find out what can be extended and how to do it.</p>

<h4 id="rewrite-of-ditto-managed-mqtt-connection-to-use-reactive-client"><a href="https://github.com/eclipse/ditto/pull/1411">Rewrite of Ditto managed MQTT connection to use reactive client</a></h4>

<p>Ditto’s MQTT connection integration now consumes messages in a reactive manner. Together with throttling this effectively enables backpressure.</p>

<h4 id="further-improvements-on-rolling-updates-and-other-failover-scenarios">Further improvements on rolling updates and other failover scenarios</h4>

<p>Improving Ditto’s resilience is part of almost every release. Those improvements are included in 3.0:</p>

<ul>
  <li><a href="https://github.com/eclipse/ditto/pull/1373">Allow turning the akka SBR on/off during runtime</a></li>
  <li><a href="https://github.com/eclipse/ditto/pull/1381">Implement graceful shutdown for http publisher actor</a></li>
</ul>

<h4 id="devops-commands-response-consistency"><a href="https://github.com/eclipse/ditto/pull/1380">DevOps commands response consistency</a></h4>

<p>Devops commands error responses are fixed to have similar structure to non-error ones.<br />
Responses to requests with <code class="highlighter-rouge">"aggregate": false</code> are stripped to remove service name and instance (or layers of <code class="highlighter-rouge">"?"</code>)
in the JSON response.</p>

<p>If devops commands were utilized, this will require a migration of the response handling.</p>

<div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> <b>Note:</b> Be aware of the
  <a href="#migration-devops-commands-response-adjustments">migration note</a> before updating to Ditto 3.0.</div>

<h4 id="make-ditto-pubsub-update-operations-simpler-and-more-consistent"><a href="https://github.com/eclipse/ditto/pull/1427">Make Ditto pubsub update operations simpler and more consistent</a></h4>

<p>Simplify Ditto pubsub update operations to make sure that subscriptions are active before sending acknowledgements.</p>

<h3 id="new-features">New features</h3>

<h4 id="ability-to-search-in-json-arrays-and-also-in-feature-definitions"><a href="https://github.com/eclipse/ditto/pull/1396">Ability to search in JSON arrays and also in feature definitions</a></h4>

<p><a href="basic-search.html#search-queries-in-json-arrays">Searching in arrays</a> is now officially supported and enabled by default.</p>

<p>This also enables <a href="https://github.com/eclipse/ditto/pull/1417">support to search by feature definition</a>.</p>

<p>You can use this e.g. in order to search for all things having a feature with a certain definition:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>filter=like(features/*/definition,"your-model-namespace:lamp:1.*")
</code></pre></div></div>

<h4 id="several-improvements-around-metadata">Several improvements around “metadata”</h4>

<p><a href="basic-metadata.html">Support for persisting additional metadata at things</a> was already existing in Ditto 2.x.<br />
There were however still some open issues and bugs which lead to that the metadata could not yet fulfill its potential.</p>

<p>The following features, enhancements and fixes about <a href="basic-metadata.html">metadata</a> are included in Ditto 3.0:</p>

<ul>
  <li><a href="https://github.com/eclipse/ditto/issues/772">Retrieve thing metadata when not retrieving complete thing</a></li>
  <li><a href="https://github.com/eclipse/ditto/issues/829">Metadata is not deleted when thing parts are deleted</a></li>
  <li><a href="https://github.com/eclipse/ditto/issues/779">Make is possible to delete metadata from a thing</a></li>
  <li><a href="https://github.com/eclipse/ditto/issues/1146">Metadata cannot be set on sub-resources via HTTP</a></li>
  <li><a href="https://github.com/eclipse/ditto/issues/884">Add initial-metadata support to thing creation</a></li>
  <li><a href="https://github.com/eclipse/ditto/issues/1404">Search does not work for _metadata</a></li>
</ul>

<h4 id="new-http-api-for-crud-of-connections"><a href="https://github.com/eclipse/ditto/issues/1406">New HTTP API for CRUD of connections</a></h4>

<p>With Ditto 2.x, connection management in Ditto could only be done via 
<a href="installation-operating.html#piggyback-commands">piggyback devops commands</a>.</p>

<p>This now is simplified by providing a separate HTTP API for CRUD management of connections and also the option to e.g.
retrieve metrics and connection logs via HTTP endpoints.</p>

<h4 id="new-ditto-explorer-ui">New Ditto explorer UI</h4>

<p>We received several contributions by <a href="https://github.com/thfries">Thomas Fries</a>, who contributed the Ditto explorer UI.<br />
The latest live version of the UI can be found here:<br />
<a href="https://eclipse.github.io/ditto/">https://eclipse.github.io/ditto/</a></p>

<p>You can use it in order to e.g. connect to your Ditto installation to manage things, policies and even connections.</p>

<p>Contributions:</p>
<ul>
  <li><a href="https://github.com/eclipse/ditto/pull/1397">Eclipse Ditto explorer UI</a></li>
  <li><a href="https://github.com/eclipse/ditto/pull/1405">Ditto explorer UI: Improvements from review</a></li>
  <li><a href="https://github.com/eclipse/ditto/pull/1414">Explorer UI - Add initial support for connections</a></li>
  <li><a href="https://github.com/eclipse/ditto/pull/1415">added mechanism to build “ditto-ui” Docker image</a></li>
  <li><a href="https://github.com/eclipse/ditto/pull/1418">Explorer UI - review improvements for connections</a></li>
  <li><a href="https://github.com/eclipse/ditto/pull/1422">Explorer UI: add local_ditto_ide and ditto_sanbdox environments</a></li>
  <li><a href="https://github.com/eclipse/ditto/pull/1430">Explorer UI - add support for policies</a></li>
  <li><a href="https://github.com/eclipse/ditto/pull/1464">Explorer UI - Fix: Avoid storing credentials</a></li>
  <li><a href="https://github.com/eclipse/ditto/pull/1455">Explorer UI - Improve message to feature and some WoT support</a></li>
</ul>

<h4 id="support-for-ec-signed-jsonwebkeys-jwks"><a href="https://github.com/eclipse/ditto/pull/1432">Support for EC signed JsonWebKeys (JWKs)</a></h4>

<p>In Ditto 2.x the deserialization of an Elliptic Curve Json Web Token (JWT) failed, because Ditto assumed it to be an 
RSA token and missed the modulus and exponent information.<br />
Support for “EC” signed tokens has now been added.</p>

<h4 id="w3c-wot-web-of-things-adjustments-and-improvements">W3C WoT (Web of Things) adjustments and improvements</h4>

<p>With the <a href="https://www.w3.org/TR/wot-thing-description11/">W3C Web of Things “Thing Description 1.1” standard</a> entering
its final phases before official recommendation by the W3C, we think it is time to enable the <a href="basic-wot-integration.html">WoT Integration</a>
in Ditto by default and suggest it as the “default” type system for Ditto.</p>

<p>Together with some minor adjustments to the <a href="https://github.com/eclipse/ditto/tree/master/wot/model">Ditto WoT model</a> to
the final changes to the 1.1 version of WoT TD, the following improvements also made it into Ditto 3.0:</p>

<ul>
  <li><a href="https://github.com/eclipse/ditto/pull/1442">Added WoT context extension ontologies in different formats</a></li>
  <li><a href="https://github.com/eclipse/ditto/pull/1460">Apply WoT Ditto extension in skeleton and TD generation</a></li>
</ul>

<p>By using the Ditto WoT Extension Ontology located at 
<a href="https://ditto.eclipseprojects.io/wot/ditto-extension">https://ditto.eclipseprojects.io/wot/ditto-extension</a>, it is possible
to define an additional <code class="highlighter-rouge">"category"</code> for WoT properties. That can for example be used to ease the migration from Vorto 
models, e.g. by defining a <code class="highlighter-rouge">"ditto:category": "configuration"</code> inside a WoT ThingModel.</p>

<h4 id="make-default-namespace-for-creating-new-entities-configurable"><a href="https://github.com/eclipse/ditto/pull/1372">Make “default namespace” for creating new entities configurable</a></h4>

<p>When e.g. creating new entities (things/policies) via <code class="highlighter-rouge">HTTP POST</code>, previously an empty namespace was used to create them in.<br />
This namespace can now be <a href="https://github.com/eclipse/ditto/blob/master/edge/service/src/main/resources/ditto-edge-service.conf#L12-L13">configured</a>
via the environment variable <code class="highlighter-rouge">DITTO_DEFAULT_NAMESPACE</code> set to the “edge” services (ditto-gateway and ditto-connectivity).</p>

<h4 id="provide-custom-namespace-when-creating-things-via-http-post"><a href="https://github.com/eclipse/ditto/issues/550">Provide custom namespace when creating things via HTTP POST</a></h4>

<p>Provides the option to provide a custom namespace to create a new thing in when using <code class="highlighter-rouge">HTTP POST</code>.</p>

<h4 id="make-it-possible-to-provide-multiple-oidc-issuer-urls-for-a-single-configured-openid-connect-prefix"><a href="https://github.com/eclipse/ditto/pull/1465">Make it possible to provide multiple OIDC issuer urls for a single configured openid-connect “prefix”</a></h4>

<p>Configure multiple <code class="highlighter-rouge">issuer</code> endpoints for the same configured <a href="installation-operating.html#openid-connect">openid-connect-provider</a>.</p>

<h4 id="addition-of-a-cloudevents-mapper-for-mapping-ce-payloads-in-ditto-connections"><a href="https://github.com/eclipse/ditto/pull/1437">Addition of a “CloudEvents” mapper for mapping CE payloads in Ditto connections</a></h4>

<p>Adds a <a href="connectivity-mapping.html#cloudevents-mapper">CloudEvents</a> in order to e.g. consume CloudEvents via Apache Kafka
or MQTT and additionally to also publish CEs as well via all supported connectivity types.</p>

<h3 id="bugfixes">Bugfixes</h3>

<p>Several bugs in Ditto 2.4.x were fixed for 3.0.0.<br />
This is a complete list of the</p>
<ul>
  <li><a href="https://github.com/eclipse/ditto/pulls?q=is:pr+milestone:3.0.0">merged pull requests for milestone 3.0.0</a></li>
</ul>

<p>Here as well for the Ditto Java Client: <a href="https://github.com/eclipse/ditto-clients/pulls?q=is:pr+milestone:3.0.0">merged pull requests for milestone 3.0.0</a></p>

<h4 id="passwords-stored-in-the-uri-of-connections-to-no-longer-need-to-be-double-encoded">Passwords stored in the URI of connections to no longer need to be double encoded</h4>

<p>Previously for some passwords containing special characters like e.g. a <code class="highlighter-rouge">+</code> the password needed to be URL encoded twice
before storing it to the <a href="basic-connections.html">Connection</a> <code class="highlighter-rouge">URI</code>.</p>

<p>This has been fixed by the PR:</p>
<ul>
  <li><a href="https://github.com/eclipse/ditto/pull/1471">Remove double decoding credentials of Connection URI passwords</a></li>
</ul>

<p>Also fixing the reported issue:</p>
<ul>
  <li><a href="https://github.com/eclipse/ditto/issues/1199">Basic auth in (mqtt) connection requires you to encode the username and password twice</a></li>
</ul>

<div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> <b>Note:</b> Be aware of the
  <a href="#migration-connection-uri-password-encoding">migration note</a> before updating to Ditto 3.0.</div>

<h4 id="when-merging-a-feature-the-normalized-payload-does-not-contain-full-feature"><a href="https://github.com/eclipse/ditto/issues/1446">When merging a feature, the normalized payload does not contain full feature</a></h4>

<p>When using the <a href="connectivity-mapping.html#normalized-mapper">Normalized mapper</a> in Ditto connections together with
<a href="basic-enrichment.html">extra field enrichment</a>, the outcome “merged” thing JSON structure could miss some information
from the enriched “extra” data.<br />
This has been fixed.</p>

<h4 id="fix-that-adding-custom-java-messagemappers-to-ditto-via-classpath-is-no-longer-possible"><a href="https://github.com/eclipse/ditto/issues/1463">Fix that adding custom Java MessageMappers to Ditto via classpath is no longer possible</a></h4>

<p>Writing own, Java based, <code class="highlighter-rouge">MessageMappers</code> and adding them to the classpath 
<a href="connectivity-mapping.html#custom-java-based-implementation">as documented</a> did no longer work.<br />
This has been fixed and the documentation for doing exactly that has been updated.</p>

<p>In addition, an example of how to provide a custom Protobuf payload mapper has been provided via 
<a href="https://github.com/eclipse/ditto-examples/tree/master/custom-ditto-java-payload-mapper">custom-ditto-java-payload-mapper</a>.</p>

<h2 id="migration-notes">Migration notes</h2>

<p>Migrations required updating from Ditto 2.4.x or earlier versions:</p>

<ul>
  <li>The search index has to be rebuilt - the old search collections may afterwards be dropped/deleted</li>
  <li>The deployment has to be adjusted so that the “ditto-concierge” service is no longer part of it</li>
  <li>When <a href="installation-operating.html#restricting-entity-creation">Restricting entity creation</a> was configured, the configuration has to be adjusted</li>
</ul>

<h3 id="migration-building-up-new-search-index">Migration: Building up new search index</h3>

<p>Ditto <strong>3.0.0</strong> introduces a new search index schema based on
<a href="https://www.mongodb.com/docs/manual/core/index-wildcard/">wildcard indices</a> of MongoDB.<br />
The service name, cluster role, database name and collections of the search service were changed as follows:</p>
<ul>
  <li>The service name is changed from <code class="highlighter-rouge">things-search</code> to <code class="highlighter-rouge">search</code>.</li>
  <li>The cluster role is changed from <code class="highlighter-rouge">things-search</code> to <code class="highlighter-rouge">search</code>.</li>
  <li>The default database is changed from <code class="highlighter-rouge">searchDB</code> to <code class="highlighter-rouge">search</code>.</li>
  <li>The collections used for the search index are changed from <code class="highlighter-rouge">searchThings</code> and <code class="highlighter-rouge">searchThingsSync</code> to <code class="highlighter-rouge">search</code> and
<code class="highlighter-rouge">searchSync</code>.</li>
</ul>

<h4 id="automatic-reindexing">Automatic reindexing</h4>

<p>After initial deployment of Ditto <strong>3.0.0</strong>, the search service will start reindexing things in the background.<br />
The result of performed search queries will be incomplete until the reindexing finishes.<br />
The progress of the background sync can be monitored via the <code class="highlighter-rouge">/status/health</code> HTTP endpoint under the label 
<code class="highlighter-rouge">backgroundSync</code>:</p>

<p>Here is an example status for reindexing in progress.</p>
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"backgroundSync"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UP"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"details"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"INFO"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"events"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"2022-08-25T02:13:07.695990296Z"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WOKE_UP"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"progressPersisted"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ditto:device1234"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"progressIndexed"</span><span class="p">:</span><span class="w"> </span><span class="s2">":_"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>Here is an example status after completion of background sync.</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"backgroundSync"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UP"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"details"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"INFO"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"events"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"2022-08-25T02:13:07.695990296Z"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WOKE_UP"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"2022-08-25T02:05:07.679251051Z"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Stream terminated. Result=&lt;Done&gt; Error=&lt;null&gt;"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"progressPersisted"</span><span class="p">:</span><span class="w"> </span><span class="s2">":_"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"progressIndexed"</span><span class="p">:</span><span class="w"> </span><span class="s2">":_"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>Background sync will restart shortly after the first round of reindexing. As long as the <code class="highlighter-rouge">events</code> field contains the
line</p>

<p><code class="highlighter-rouge">"Stream terminated. Result=&lt;Done&gt; Error=&lt;null&gt;"</code></p>

<p>, the reindexing has completed successfully.</p>

<p>The reindexing of all things or only specific namespaces can also be 
<a href="installation-operating.html#force-search-index-update-of-all-things">explicitly triggered</a>.</p>

<h4 id="clean-up">Clean up</h4>

<p>After reindexing, the old search index can be dropped.</p>
<ul>
  <li>If you did not override the default database <code class="highlighter-rouge">searchDB</code>, the database <code class="highlighter-rouge">searchDB</code> can be dropped.</li>
  <li>If you configured a different database, the collections <code class="highlighter-rouge">searchThings</code> and <code class="highlighter-rouge">searchThingsSync</code> can be dropped.</li>
</ul>

<h3 id="migration-removal-of-concierge-service-from-deployment-descriptors">Migration: Removal of concierge service from deployment descriptors</h3>

<p>When using your own e.g. Kubernetes descriptors or <code class="highlighter-rouge">docker-compose.yml</code>, think about removing the <code class="highlighter-rouge">ditto-concierge</code> 
service from those before upgrading to Ditto 3.0.</p>

<p>Also make sure that no old <code class="highlighter-rouge">ditto-concierge</code> service running with version 2.x remains in your cluster after the upgrade
as this could lead to unforeseeable side effects.</p>

<h3 id="migration-entity-creation-configuration-migration">Migration: Entity creation configuration migration</h3>

<p>When <a href="installation-operating.html#restricting-entity-creation">Restricting entity creation</a> was configured in Ditto 2.x, 
the configuration for Ditto 3.0 has to be adjusted.</p>

<p>As the configuration was part of the former “ditto-concierge” service (which was removed from Ditto 3.0), the configuration
is now located in <a href="https://github.com/eclipse/ditto/blob/master/internal/utils/config/src/main/resources/ditto-entity-creation.conf">ditto-entity-creation.conf</a>.</p>

<p>So the configuration keys changed</p>
<ul>
  <li>from: <code class="highlighter-rouge">ditto.concierge.enforcement.entity-creation</code></li>
  <li>to: <code class="highlighter-rouge">ditto.entity-creation</code></li>
</ul>

<p>Additionally, the configuration has to be done for “ditto-things” + “ditto-policies” services where it before had to be
done for the “ditto-concierge” service.</p>

<h3 id="migration-devops-commands-response-adjustments">Migration: DevOps commands response adjustments</h3>

<p>In <a href="https://github.com/eclipse/ditto/pull/1380">#1380</a> the response of DevOps commands was consolidated to have a simpler
response format.<br />
If DevOps command responses were used in prior Ditto versions, please adjust according to the 
<a href="installation-operating.html#devops-commands">new response formats</a>.</p>

<h3 id="migration-connection-uri-password-encoding">Migration: Connection URI password encoding</h3>

<p>In previous versions of Ditto it <strong>might</strong> (depending on the characters used in the username/password) have been 
necessary to URL encode a username or password twice when storing it inside a Ditto managed 
<a href="basic-connections.html">connection</a> in the <code class="highlighter-rouge">uri</code>, e.g.:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ssl://user:double+url-encoded-password@hostname:8884
</code></pre></div></div>

<p>For example that was the case if the password contained a <code class="highlighter-rouge">+</code> sign or a space.</p>

<p>As this bug is fixed in Ditto 3.0 and single encoding is now sufficient, previously created connections which applied
double encoding <strong>must be migrated</strong> to use single encoding instead.</p>

<h2 id="roadmap">Roadmap</h2>

<p>Looking forward, the current plans for Ditto 3.1.0 are:</p>

<ul>
  <li><a href="https://github.com/eclipse/ditto/issues/1390">Support AMQP Message Annotations when extracting values for Headers</a></li>
  <li><a href="https://github.com/eclipse/ditto/issues/298">Policy imports</a> which will allow re-use of policies by importing existing ones</li>
  <li>Perform a benchmark of Ditto 3.0 and provide a “tuning” chapter in the documentation as a reference to the commonly 
asked questions
    <ul>
      <li>how many Things Ditto can manage</li>
      <li>how many updates/second can be done</li>
      <li>whether Ditto can scale horizontally</li>
      <li>how many resources (e.g. machines) are required at which scale</li>
    </ul>
  </li>
</ul>


    <div class="tags">
        
        <b>Tags: </b>
        
        
        
        <a href="tag_release_notes.html" class="btn btn-default navbar-btn cursorNorm" role="button">release_notes</a>
        
        
        
    </div>

</div>

<hr class="shaded"/>

<footer>
            <div class="row">
                <div class="col-lg-12 footer">
                    <div class="logo">
                        <a href="https://eclipse.org"><img src="images/eclipse_foundation_logo.svg" alt="Eclipse logo"/></a>
                    </div>
                    <p class="notice">
                        &copy;2022 Eclipse Ditto™.
                         Site last generated: Oct 12, 2022 <br />
                    </p>
                    <div class="quickLinks">
                        <a href="https://www.eclipse.org/legal/privacy.php" target="_blank">
                            &gt; Privacy Policy
                        </a>
                        <a href="https://www.eclipse.org/legal/termsofuse.php" target="_blank">
                            &gt; Terms of Use
                        </a>
                        <a href="https://www.eclipse.org/legal/copyright.php" target="_blank">
                            &gt; Copyright Agent
                        </a>
                        <a href="https://www.eclipse.org/legal" target="_blank">
                            &gt; Legal
                        </a>
                        <a href="https://www.eclipse.org/legal/epl-2.0/" target="_blank">
                            &gt; License
                        </a>
                        <a href="https://eclipse.org/security" target="_blank">
                            &gt; Report a Vulnerability
                        </a>
                    </div>
                </div>
            </div>
</footer>


        </div>
    <!-- /.row -->
</div>
<!-- /.container -->
</div>
<!-- /#main -->
    </div>

</body>
</html>
