<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="keywords" content="search,  search, things-search, rql, query">
<title> Search | Eclipse Ditto</title>
<link rel="stylesheet" href="css/syntax.css">

<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="css/modern-business.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<link rel="stylesheet" href="css/customstyles.css">
<link rel="stylesheet" href="css/boxshadowproperties.css">
<link rel="stylesheet" href="css/theme-ditto.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,700|Source+Code+Pro:300,600|Titillium+Web:400,600,700">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="js/jquery.navgoco.min.js"></script>


<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<!-- Anchor.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/2.0.0/anchor.min.js"></script>
<script src="js/toc.js"></script>
<script src="js/customscripts.js"></script>

<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Organization",
  "url": "https://eclipse.org/ditto/",
  "logo": "https://eclipse.org/ditto/images/ditto.svg"
}
</script>

<link rel="icon" type="image/png" href="images/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="images/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="images/favicon-96x96.png" sizes="96x96">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<link rel="alternate" type="application/rss+xml" title="Eclipse Ditto Blog" href="https://www.eclipse.org/ditto/feed.xml">

    <script>
        $(document).ready(function() {
            // Initialize navgoco with default options
            $("#mysidebar").navgoco({
                caretHtml: '',
                accordion: false,
                openClass: 'open', // open
                save: true, // leave false or nav highlighting doesn't work right
                cookie: {
                    name: 'navgoco',
                    expires: false,
                    path: '/'
                },
                slide: {
                    duration: 400,
                    easing: 'swing'
                }
            });

            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', false);
            });

            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', true);
            });

        });

    </script>
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
    <script>
        $(document).ready(function() {
            $("#tg-sb-link").click(function() {
                $("#tg-sb-sidebar").toggle();
                $("#tg-sb-content").toggleClass('col-md-9');
                $("#tg-sb-content").toggleClass('col-md-12');
                $("#tg-sb-icon").toggleClass('fa-toggle-on');
                $("#tg-sb-icon").toggleClass('fa-toggle-off');
            });
        });
    </script>
    

</head>

<!-- the google_analytics_id gets auto inserted from the config file -->



<script async src="https://www.googletagmanager.com/gtag/js?id=UA-109486227-1"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-109486227-1'); </script>



<body>
<!-- Navigation -->
<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container topnavlinks">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-ditto-home" href="index.html">&nbsp;<img src="images/ditto_allwhite_symbolonly.svg" class="ditto-navbar-symbol" alt="Home"> <img src="images/ditto_allwhite_textonly.svg" class="ditto-navbar-symbol-text" alt="Ditto"></a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <!-- toggle sidebar button -->
                <!--<li><a id="tg-sb-link" href="#"><i id="tg-sb-icon" class="fa fa-toggle-on"></i> Nav</a></li>-->
                <!-- entries without drop-downs appear here -->




                
                
                
                <li><a href="blog.html">Blog</a></li>
                
                
                
                <li><a href="intro-overview.html">Documentation</a></li>
                
                
                
                <li><a href="http-api-doc.html">HTTP API</a></li>
                
                
                
                <li><a href="https://ditto.eclipse.org" target="_blank">Sandbox</a></li>
                
                
                
                <li><a href="https://github.com/eclipse/ditto" target="_blank">GitHub</a></li>
                
                
                
                <li><a href="https://github.com/eclipse/ditto-examples" target="_blank">GitHub examples</a></li>
                
                
                
                <!-- entries with drop-downs appear here -->
                <!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->
                
                
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Links<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        
                        <li><a href="https://projects.eclipse.org/projects/iot.ditto" target="_blank">Eclipse Ditto Project</a></li>
                        
                        
                        
                        <li><a href="https://www.eclipse.org/forums/index.php/f/364/" target="_blank">Forum</a></li>
                        
                        
                        
                        <li><a href="https://ci.eclipse.org/ditto/" target="_blank">Jenkins</a></li>
                        
                        
                        
                        <li><a href="https://dev.eclipse.org/mhonarc/lists/ditto-dev/" target="_blank">Mailing list archives</a></li>
                        
                        
                        
                        <li><a href="https://gitter.im/eclipse/ditto" target="_blank">Gitter.im chat</a></li>
                        
                        
                    </ul>
                </li>
                
                
                
                <!--comment out this block if you want to hide search-->
                <li>
                    <!--start search-->
                    <div id="search-demo-container">
                        <input type="text" id="search-input" placeholder="search...">
                        <ul id="results-container"></ul>
                    </div>
                    <script src="js/jekyll-search.js" type="text/javascript"></script>
                    <script type="text/javascript">
                            SimpleJekyllSearch.init({
                                searchInput: document.getElementById('search-input'),
                                resultsContainer: document.getElementById('results-container'),
                                dataSource: 'search.json',
                                searchResultTemplate: '<li><a href="{url}" title="Search">{title}</a></li>',
                    noResultsText: 'No results found.',
                            limit: 10,
                            fuzzy: true,
                    })
                    </script>
                    <!--end search-->
                </li>
            </ul>
        </div>
    </div>
    <!-- /.container -->
</nav>

<!-- Page Content -->
<div class="container">
  <div id="main">
    <!-- Content Row -->
    <div class="row">
        
        
            <!-- Sidebar Column -->
            <div class="col-md-3" id="tg-sb-sidebar">
                

<ul id="mysidebar" class="nav">
  <li class="sidebarTitle">Eclipse Ditto </li>
  
  
  
    
        <li>
          <a href="#">Introduction</a>
          <ul>
              
              
              
              <li><a href="intro-overview.html">Overview</a></li>
              
              
              
              
              
              
              <li><a href="intro-digitaltwins.html">Digital Twins</a></li>
              
              
              
              
              
              
              <li><a href="intro-hello-world.html">Hello world</a></li>
              
              
              
              
          </ul>
        </li>
    
  
  
  
    
        <li>
          <a href="#">Release Notes</a>
          <ul>
              
              
              
              <li><a href="release_notes_010-M1.html">0.1.0-M1 Release notes</a></li>
              
              
              
              
              
              
              <li><a href="release_notes_010-M3.html">0.1.0-M3 Release notes</a></li>
              
              
              
              
              
              
              <li><a href="release_notes_020-M1.html">0.2.0-M1 Release notes</a></li>
              
              
              
              
              
              
              <li><a href="release_notes_030-M1.html">0.3.0-M1 Release notes</a></li>
              
              
              
              
          </ul>
        </li>
    
  
  
  
    
        <li>
          <a href="#">Installation</a>
          <ul>
              
              
              
              <li><a href="installation-building.html">Building Ditto</a></li>
              
              
              
              
              
              
              <li><a href="installation-running.html">Running Ditto</a></li>
              
              
              
              
              
              
              <li><a href="installation-operating.html">Operating Ditto</a></li>
              
              
              
              
          </ul>
        </li>
    
  
  
  
    
        <li>
          <a href="#">Basic concepts</a>
          <ul>
              
              
              
              <li><a href="basic-overview.html">Overview</a></li>
              
              
              
              <li class="subfolders">
                  <a href="#">Model entites</a>
                  <ul>
                      
                      
                      
                      <li><a href="basic-thing.html">Thing</a></li>
                      
                      
                      
                      
                      
                      <li><a href="basic-acl.html">Access Control List (ACL)</a></li>
                      
                      
                      
                      
                      
                      <li><a href="basic-feature.html">Feature</a></li>
                      
                      
                      
                      
                      
                      <li><a href="basic-policy.html">Policy</a></li>
                      
                      
                      
                  </ul>
              </li>
              
              
              
              
              
              
              <li><a href="basic-auth.html">Authentication and Authorization</a></li>
              
              
              
              
              
              
              <li><a href="basic-messages.html">Messages</a></li>
              
              
              
              
              
              
              <li><a href="basic-signals.html">Signals</a></li>
              
              
              
              <li class="subfolders">
                  <a href="#">Signal types</a>
                  <ul>
                      
                      
                      
                      <li><a href="basic-signals-command.html">Command</a></li>
                      
                      
                      
                      
                      
                      <li><a href="basic-signals-commandresponse.html">Command response</a></li>
                      
                      
                      
                      
                      
                      <li><a href="basic-signals-errorresponse.html">Error response</a></li>
                      
                      
                      
                      
                      
                      <li><a href="basic-signals-event.html">Event</a></li>
                      
                      
                      
                  </ul>
              </li>
              
              
              
              
              
              
              <li><a href="basic-apis.html">APIs</a></li>
              
              
              
              
              
              
              <li><a href="basic-connections.html">Connections</a></li>
              
              
              
              
              
              
              <li><a href="basic-changenotifications.html">Change notifications</a></li>
              
              
              
              
              
              
              <li class="active"><a href="basic-search.html">Search</a></li>
              
              
              
              
          </ul>
        </li>
    
  
  
  
    
        <li>
          <a href="#">Architecture</a>
          <ul>
              
              
              
              <li><a href="architecture-overview.html">Overview</a></li>
              
              
              
              <li class="subfolders">
                  <a href="#">Services</a>
                  <ul>
                      
                      
                      
                      <li><a href="architecture-services-policies.html">Policies</a></li>
                      
                      
                      
                      
                      
                      <li><a href="architecture-services-things.html">Things</a></li>
                      
                      
                      
                      
                      
                      <li><a href="architecture-services-things-search.html">Things-Search</a></li>
                      
                      
                      
                      
                      
                      <li><a href="architecture-services-gateway.html">Gateway</a></li>
                      
                      
                      
                      
                      
                      <li><a href="architecture-services-connectivity.html">Connectivity</a></li>
                      
                      
                      
                  </ul>
              </li>
              
              
              
              
          </ul>
        </li>
    
  
  
  
    
        <li>
          <a href="#">HTTP API</a>
          <ul>
              
              
              
              <li><a href="httpapi-overview.html">Overview</a></li>
              
              
              
              
              
              
              <li><a href="httpapi-concepts.html">Concepts</a></li>
              
              
              
              
              
              
              <li><a href="httpapi-search.html">Search</a></li>
              
              
              
              
              
              
              <li><a href="httpapi-messages.html">Messages</a></li>
              
              
              
              
              
              
              <li><a href="httpapi-protocol-bindings-websocket.html">WebSocket protocol binding</a></li>
              
              
              
              
              
              
              <li><a href="httpapi-sse.html">Server sent events</a></li>
              
              
              
              
              
              
              <li><a href="httpapi-postman.html">Run in Postman</a></li>
              
              
              
              
          </ul>
        </li>
    
  
  
  
    
        <li>
          <a href="#">Connectivity API</a>
          <ul>
              
              
              
              <li><a href="connectivity-overview.html">Overview</a></li>
              
              
              
              
              
              
              <li><a href="connectivity-manage-connections.html">Manage connections</a></li>
              
              
              
              
              
              
              <li><a href="connectivity-protocol-bindings-amqp091.html">AMQP 0.9.1 protocol binding</a></li>
              
              
              
              
              
              
              <li><a href="connectivity-protocol-bindings-amqp10.html">AMQP 1.0 protocol binding</a></li>
              
              
              
              
              
              
              <li><a href="connectivity-mapping.html">Payload mapping</a></li>
              
              
              
              
          </ul>
        </li>
    
  
  
  
    
        <li>
          <a href="#">Ditto Protocol</a>
          <ul>
              
              
              
              <li><a href="protocol-overview.html">Overview</a></li>
              
              
              
              
              
              
              <li><a href="protocol-twinlive.html">Twin/live channel</a></li>
              
              
              
              
              
              
              <li><a href="protocol-specification.html">Specification</a></li>
              
              
              
              
              
              
              <li><a href="protocol-specification-topic.html">Protocol topic</a></li>
              
              
              
              
              
              
              <li><a href="protocol-specification-things.html">Things group</a></li>
              
              
              
              <li class="subfolders">
                  <a href="#">→ commands/events</a>
                  <ul>
                      
                      
                      
                      <li><a href="protocol-specification-things-create.html">Create</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-specification-things-retrieve.html">Retrieve</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-specification-things-modify.html">Modify</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-specification-things-delete.html">Delete</a></li>
                      
                      
                      
                  </ul>
              </li>
              
              
              
              <li class="subfolders">
                  <a href="#">→ search/messages</a>
                  <ul>
                      
                      
                      
                      <li><a href="protocol-specification-things-search.html">Search</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-specification-things-messages.html">Messages</a></li>
                      
                      
                      
                  </ul>
              </li>
              
              
              
              
              
              
              <li><a href="protocol-bindings.html">Bindings</a></li>
              
              
              
              
              
              
              <li><a href="protocol-examples.html">Examples</a></li>
              
              
              
              <li class="subfolders">
                  <a href="#">→ Things examples</a>
                  <ul>
                      
                      
                      
                      <li><a href="protocol-examples-creatething.html">Create a Thing</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-deletething.html">Delete a Thing</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-modifything.html">Modify a Thing</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-retrievething.html">Retrieve a Thing</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-retrievethings.html">Retrieve multiple Things</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-createattributes.html">Create Attributes</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-deleteattributes.html">Delete Attributes</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-modifyattributes.html">Modify Attributes</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-retrieveattributes.html">Retrieve Attributes</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-createattribute.html">Create a single Attribute</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-deleteattribute.html">Delete a single Attribute</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-modifyattribute.html">Modify a single Attribute</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-retrieveattribute.html">Retrieve a single Attribute</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-createfeatures.html">Create Features</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-deletefeatures.html">Delete Features</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-modifyfeatures.html">Modify Features</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-retrievefeatures.html">Retrieve Features</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-createfeature.html">Create a single Feature</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-deletefeature.html">Delete a single Feature</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-modifyfeature.html">Modify a single Feature</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-retrievefeature.html">Retrieve a single Feature</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-createdefinition.html">Create Feature Definition</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-deletedefinition.html">Delete Feature Definition</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-modifydefinition.html">Modify Feature Definition</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-retrievedefinition.html">Retrieve Feature Definition</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-createproperties.html">Create Feature Properties</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-deleteproperties.html">Delete Feature Properties</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-modifyproperties.html">Modify Feature Properties</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-retrieveproperties.html">Retrieve Feature Properties</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-createproperty.html">Create a single Property</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-deleteproperty.html">Delete a single Property</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-modifyproperty.html">Modify a single Property</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-retrieveproperty.html">Retrieve a single Property</a></li>
                      
                      
                      
                      
                      
                      <li><a href="protocol-examples-errorresponses.html">Error Responses</a></li>
                      
                      
                      
                  </ul>
              </li>
              
              
              
              
          </ul>
        </li>
    
  
  
  
    
    <li><a href="sandbox.html">Sandbox</a></li>
    
  
  
  
    
    <li><a href="presentations.html">Presentations</a></li>
    
  
  
  
    
    <li><a href="glossary.html">Glossary</a></li>
    
  
  
  
    
    <li><a href="feedback.html">Feedback</a></li>
    
  
  
  
    
      <!-- if you aren't using the accordion, uncomment this block: -->
         <p class="external">
             <a href="#" id="collapseAll">Collapse All</a> | <a href="#" id="expandAll">Expand All</a>
         </p>
    
</ul>

<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("li.active").parents('li').toggleClass("active");</script>

            </div>
            
        

        <!-- Content Column -->
        <div class="col-md-9" id="tg-sb-content">
            <span class="incubation-logo">
    <img src="images/eclipse_incubation.png" alt="This is an Eclipse incubation project" style="position: fixed;
    bottom: 10px; right: 10px;"/>
</span>


<div class="post-header">
   <h1 class="post-title-main">Search</h1>
</div>



<div class="post-content">

   

    
    
<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {
  // Handler for .ready() called.

$('#toc').toc({ minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers: 'h2,h3,h4' });

/* this offset helps account for the space taken up by the floating toolbar. */
$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top

  $(window).scrollTop(scroll_target - 10);
  return false
})
  
});
</script>

<div id="toc"></div>

    


    


    

  <p>Ditto provides a search functionality as one of the services around its managed <strong>Digital Twins</strong>.</p>

<h2 id="search-index">Search index</h2>

<p>Ditto’s microservice <a href="architecture-services-things-search.html">things-search</a> automatically consumes all 
<a href="basic-signals-event.html">events</a> which are emitted for changes to <code class="highlighter-rouge">Things</code> and <code class="highlighter-rouge">Policies</code> and updates an for search 
optimized representation of the <code class="highlighter-rouge">Thing</code> data into its own database.</p>

<p>No custom indexes have to be defined as the structure in the database is “flattened” so that all data contained in 
<a href="basic-thing.html">Things</a> can be searched for efficiently.</p>

<h2 id="search-queries">Search queries</h2>

<p>Queries can be made via Ditto’s APIs (<a href="httpapi-search.html">HTTP</a> or 
<a href="protocol-specification-things-search.html">Ditto Protocol</a> e.g. via <a href="httpapi-protocol-bindings-websocket.html">WebSocket</a>).</p>

<p><strong>Example:</strong> Search for all things located in “living-room”, reorder the list to start with the lowest thing ID as the first element, 
and return the first 5 results:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Filter:     eq(attributes/location,"living-room")
Sorting:    sort(+thingId)
Paging:     limit(0,5)
</code></pre></div></div>

<h2 id="search-count-queries">Search count queries</h2>

<p>The same syntax applies for search count queries - only the <a href="#rql-sorting">sorting</a> and <a href="#rql-paging">paging</a> makes no 
sense here, so there are not necessary to specify.</p>

<h2 id="rql">RQL</h2>

<p>Ditto utilizes a subset of <a href="#" data-toggle="tooltip" data-original-title="Resource Query Language">RQL</a> 
as language for specifying queries.</p>

<p>The <a href="https://github.com/persvr/rql">RQL project page</a> says about it:</p>

<blockquote>
  <p>Resource Query Language (RQL) is a query language designed for use in URIs with object style data structures. […]<br />
RQL can be thought as basically a set of nestable named operators which each have a set of arguments. 
RQL is designed to have an extremely simple, but extensible grammar that can be written in a URL friendly query string.</p>
</blockquote>

<p>An example helps more than a thousand words, so that would be the example of a simple RQL query querying for <code class="highlighter-rouge">foo="ditto"</code> and <code class="highlighter-rouge">bar&lt;10</code>:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>and(eq(foo,"ditto"),lt(bar,10))
</code></pre></div></div>

<p>That query consists of one <a href="#logical-operators">logical operator </a> <a href="#and">“and”</a>,
two <a href="#relational-operators">relational operators</a> of which each consists of a <a href="#query-property">property</a>
and a <a href="#query-value">value</a>.</p>

<p>The following sections describe what the RQL syntax is capable of.</p>

<h2 id="rql-filter">RQL filter</h2>

<p>The RQL filter specifies “what” to search.</p>

<h3 id="query-property">Query property</h3>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;property&gt; = url-encoded-string
</code></pre></div></div>

<p>To search for nested properties, we use JSON Pointer notation (<a href="http://www.rfc-base.org/rfc-6901.html">RFC-6901</a>).</p>

<p>The following example shows how to search for the sub property location of the parent property attributes with a forward slash as separator:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>eq(attributes/location,"kitchen")
</code></pre></div></div>

<h3 id="query-value">Query value</h3>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;value&gt; = &lt;number&gt;, &lt;string&gt;, true, false, null
&lt;number&gt; = double, integer
&lt;string&gt; = ", url-encoded-string, "
</code></pre></div></div>

<p><strong>Comparison of string values</strong></p>

<div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> <b>Note:</b> Comparison operators such as <code class="highlighter-rouge">gt</code>, <code class="highlighter-rouge">ge</code>, <code class="highlighter-rouge">lt</code> and <code class="highlighter-rouge">le</code>, do not support a special 
    “semantics” of string comparison (e.g. regarding alphabetical or lexicographical ordering).<br />
    However, you can rely on the alphabetical sorting of strings with the same length (e.g. “aaa” &lt; “zzz”) and that the 
    order stays the same over multiple/different search requests.</div>

<p><strong>Comparison of other data types</strong></p>

<div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> <b>Note:</b> Please note that the comparison of other data types is is supported by the API, but it 
    only supports comparison of same data types, and does not do any conversion during comparison.</div>

<h3 id="relational-operators">Relational operators</h3>

<p>The following relational operators are supported.</p>

<h4 id="eq">eq</h4>
<p>Search for property values equal to <code class="highlighter-rouge">&lt;value&gt;</code>.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>eq(&lt;property&gt;,&lt;value&gt;)
</code></pre></div></div>

<p><strong>Example - search for things owned by “SID123”</strong></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>eq(attributes/owner,"SID123")
</code></pre></div></div>

<h4 id="ne">ne</h4>
<p>Search for property values not equal to <code class="highlighter-rouge">&lt;value&gt;</code>.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ne(&lt;property&gt;,&lt;value&gt;)
</code></pre></div></div>

<p><strong>Example - search for things with owner different than “SID123”</strong></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ne(attributes/owner,"SID123")
</code></pre></div></div>

<p>The response will contain only things which <strong>do</strong> provide an owner attribute (in this case with value 0 or not SID123).</p>

<h4 id="gt">gt</h4>
<p>Search for property values greater than a <code class="highlighter-rouge">&lt;value&gt;</code>.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gt(&lt;property&gt;,&lt;value&gt;) 
</code></pre></div></div>

<p><strong>Example - search for things with thing ID greater than “A000”</strong></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gt(thingId,"A000")
</code></pre></div></div>

<h4 id="ge">ge</h4>
<p>Search for property values greater than or equal to a <code class="highlighter-rouge">&lt;value&gt;</code>.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ge(&lt;property&gt;,&lt;value&gt;) 
</code></pre></div></div>

<p><strong>Example - search for things with thing ID “A000” or greater</strong></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ge(thingId,"A000")
</code></pre></div></div>

<h4 id="lt">lt</h4>
<p>Search for property values less than a <code class="highlighter-rouge">&lt;value&gt;</code>.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>lt(&lt;property&gt;,&lt;value&gt;) 
</code></pre></div></div>

<p><strong>Example - search for things with thing ID lower than “A000”</strong></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>lt(thingId,"A000")
</code></pre></div></div>

<h4 id="le">le</h4>
<p>Search for property values less than or equal to a <code class="highlighter-rouge">&lt;value&gt;</code>.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>le(&lt;property&gt;,&lt;value&gt;) 
</code></pre></div></div>

<p><strong>Example - search for things with thing ID “A000” or lower</strong></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>le(thingId,"A000")
</code></pre></div></div>

<h4 id="in">in</h4>
<p>Search for property values which contains at least one of the listed <code class="highlighter-rouge">&lt;value&gt;</code>s.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>in(&lt;property&gt;,&lt;value&gt;,&lt;value&gt;, ...) 
</code></pre></div></div>

<p><strong>Example - search for things with thing ID “A000” or “AB00” or “AZ99”</strong></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>in(thingId,"A000","AB00","AZ99")
</code></pre></div></div>

<h4 id="like">like</h4>
<p>Search for property values which are like (similar) a <code class="highlighter-rouge">&lt;value&gt;</code>.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>like(&lt;property&gt;,&lt;value&gt;) 
</code></pre></div></div>

<p><strong>Details concerning the like-operator</strong></p>

<p>The <code class="highlighter-rouge">like</code> operator provides some regular expression capabilities for pattern matching Strings.<br />
The following expressions are supported:</p>
<ul>
  <li>*endswith =&gt; match at the end of a specific String.</li>
  <li>startswith* =&gt; match at the beginning of a specific String.</li>
  <li>*contains* =&gt; match if contains a specific String.</li>
  <li>Th?ng =&gt; match for a wildcard character.</li>
</ul>

<p><strong>Examples</strong></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>like(attributes/key1,"*known-chars-at-end")

like(attributes/key1,"known-chars-at-start*") 

like(attributes/key1,"*known-chars-in-between*") 

like(attributes/key1,"just-som?-char?-unkn?wn")
</code></pre></div></div>

<h4 id="exists">exists</h4>
<p>Search for property values which exist.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>exists(&lt;property&gt;)
</code></pre></div></div>

<p><strong>Example - search for things which have a feature with ID “feature_1”</strong></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>exists(features/feature_1)
</code></pre></div></div>

<p><strong>Example - search for lamps which are located in the “living-room”</strong></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>and(exists(features/lamp),eq(attributes/location,"living-room"))
</code></pre></div></div>

<h3 id="logical-operators">Logical operators</h3>

<h4 id="and">and</h4>
<p>Ensure that all given queries match.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>and(&lt;query&gt;,&lt;query&gt;, ...)
</code></pre></div></div>

<p><strong>Example - search for things which are located on the “upper floor” in the “living-room”</strong></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>and(eq(attributes/floor,"upper floor"),eq(attributes/location,"living-room"))
</code></pre></div></div>

<p><strong>Example - search for lamps which have a on value of true</strong></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>and(eq(features/lamp/properties/on,true))
</code></pre></div></div>

<p><strong>Example - search for lamps which have a color “blue”</strong></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>and(eq(features/lamp/properties/color,"blue"))
</code></pre></div></div>

<h4 id="or">or</h4>
<p>At least one of the given queries match.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>or(&lt;query&gt;,&lt;query&gt;, ...)
</code></pre></div></div>

<p><strong>Example - search for all things located on the “upper floor”, and all things with location “living-room”</strong></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>or(eq(attributes/floor,"upper floor"),eq(attributes/location,"living-room"))
</code></pre></div></div>

<h2 id="rql-sorting">RQL sorting</h2>

<p>The RQL sorting part specifies in which order the result should be returned.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sort(&lt;+|-&gt;&lt;property&gt;,&lt;+|-&gt;&lt;property&gt;,...)
</code></pre></div></div>

<ul>
  <li>Use <strong>+</strong> for an ascending sort order (URL encoded character <strong>%2B</strong>)</li>
  <li>Use <strong>-</strong> for a descending sort order (URL encoded character <strong>%2D</strong>)</li>
</ul>

<p><strong>Example - sort the list ascending by the thing ID</strong></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sort(+thingId)
</code></pre></div></div>

<p><strong>Example - sort the list ascending by an attribute</strong></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sort(+attributes/location)
</code></pre></div></div>

<p><strong>Example - multiple sort options</strong></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sort(-attributes/location,+thingId)
</code></pre></div></div>

<p>This expression will sort the list descending by location attribute.<br />
In case there are multiple things with the same location attribute, these are sorted ascending by their ID.</p>

<h3 id="sorting-of-string-values">Sorting of string values</h3>

<div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> <b>Note:</b> Sorting does not support a special “semantics” of string comparison (e.g. regarding 
    alphabetical or lexicographical ordering). However, you can rely on the alphabetical sorting of strings with the 
    same length (e.g. “aaa” &lt; “zzz”) and that the order stays the same over multiple/different search requests.</div>

<h3 id="sorting-of-other-values">Sorting of other values</h3>

<div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> <b>Note:</b> Sorting does not support a special “semantics” of comparison for fields with values of 
    different data types (e.g. numbers vs. strings). However, you can rely on the fact that values of the same type are 
    sorted respectively.</div>

<h2 id="rql-paging">RQL paging</h2>

<p>The RQL limiting part specifies which part (or “page”) should be returned of a large result set.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>limit(&lt;offset&gt;,&lt;count&gt;)
</code></pre></div></div>

<p>Limits the search results to <code class="highlighter-rouge">&lt;count&gt;</code> items, starting with the item at index <code class="highlighter-rouge">&lt;offset&gt;</code>.</p>
<ul>
  <li>if the paging option is not explicitly specified, the <strong>default</strong> value <code class="highlighter-rouge">limit(0,25)</code> is used, i.e. the first <code class="highlighter-rouge">25</code> results are returned.</li>
  <li>the <strong>maximum</strong> allowed count is <code class="highlighter-rouge">200</code>.</li>
</ul>

<p><strong>Example - return the first ten items</strong></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>limit(0,10)
</code></pre></div></div>

<p><strong>Example - return the items 11 to 20</strong></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>limit(10,10)
</code></pre></div></div>
<p>i.e. Return the next ten items (from index 11 to 20)</p>

<div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> <b>Note:</b> We recommend <strong>not to use high offsets</strong> (e.g. higher than 10000) for paging in API 2 
    because of potential performance degradations.</div>



    <div class="tags">
        
        <b>Tags: </b>
        
        
        
        <a href="tag_search.html" class="btn btn-default navbar-btn cursorNorm" role="button">search</a>
        
        
        
    </div>

</div>

<hr class="shaded"/>

<footer>
            <div class="row">
                <div class="col-lg-12 footer">
                    <div class="logo">
                        <a href="https://eclipse.org"><img src="images/eclipse_logo_colour.png" alt="Eclipse logo"/></a>
                    </div>
                    <p class="notice">
                        &copy;2018 Eclipse Ditto.
                         Site last generated: Apr 30, 2018 <br />
                    </p>
                    <div class="quickLinks">
                        <a href="https://www.eclipse.org/legal/privacy.php" target="_blank">
                            &gt; Privacy Policy
                        </a>
                        <a href="https://www.eclipse.org/legal/termsofuse.php" target="_blank">
                            &gt; Terms of Use
                        </a>
                        <a href="https://www.eclipse.org/legal/copyright.php" target="_blank">
                            &gt; Copyright Agent
                        </a>
                        <a href="https://www.eclipse.org/legal" target="_blank">
                            &gt; Legal
                        </a>
                        <a href="https://www.eclipse.org/legal/epl-2.0/" target="_blank">
                            &gt; License
                        </a>
                        <a href="https://eclipse.org/security" target="_blank">
                            &gt; Report a Vulnerability
                        </a>
                    </div>
                </div>
            </div>
</footer>


        </div>
    <!-- /.row -->
</div>
<!-- /.container -->
</div>
<!-- /#main -->
    </div>

</body>
</html>
